{
	"info": {
		"_postman_id": "library-management-system-api",
		"name": "Library Management System API v2",
		"description": "API collection for Library Management System with JWT authentication",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"john_doe\",\n    \"password\": \"password123\",\n    \"namaLengkap\": \"John Doe\",\n    \"email\": \"john.doe@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"john_doe\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/auth/logout",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"logout"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Admin User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"admin123\",\n    \"namaLengkap\": \"Administrator\",\n    \"email\": \"admin@library.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/create-admin",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"create-admin"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Buku Management",
			"item": [
				{
					"name": "Get All Buku",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/buku",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"buku"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Buku by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/buku/{{bukuId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"buku",
								"{{bukuId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Buku (Admin Only)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"judul\": \"The Great Gatsby\",\n    \"penulis\": \"F. Scott Fitzgerald\",\n    \"isbn\": \"9780743273565\",\n    \"tahunTerbit\": 1925,\n    \"stock\": 10,\n    \"categoryId\": \"{{categoryId}}\"\n}"
                        },
						"url": {
							"raw": "{{baseUrl}}/api/buku",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"buku"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Buku (Admin Only)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"judul\": \"The Great Gatsby - Updated\",\n    \"penulis\": \"F. Scott Fitzgerald\",\n    \"isbn\": \"9780743273565\",\n    \"tahunTerbit\": 1925,\n    \"stock\": 15,\n    \"categoryId\": \"{{categoryId}}\"\n}"
                        },
						"url": {
							"raw": "{{baseUrl}}/api/buku/{{bukuId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"buku",
								"{{bukuId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Buku (Admin Only)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/buku/{{bukuId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"buku",
								"{{bukuId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Reduce Stock (Admin Only)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"quantity\": 2\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/buku/{{bukuId}}/reduce-stock",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"buku",
								"{{bukuId}}",
								"reduce-stock"
							]
						}
					},
					"response": []
				},
				{
					"name": "Increase Stock (Admin Only)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"quantity\": 5\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/buku/{{bukuId}}/increase-stock",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"buku",
								"{{bukuId}}",
								"increase-stock"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Category Management",
			"item": [
				{
					"name": "Get All Category",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/category",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"category"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Category by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/category/{{categoryId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"category",
								"{{categoryId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Category (Admin Only)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"nama\": \"Fiction\",\n    \"deskripsi\": \"Buku fiksi dan novel\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/category",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"category"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Category (Admin Only)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"nama\": \"Fiction - Updated\",\n    \"deskripsi\": \"Buku fiksi dan novel - Updated\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/category/{{categoryId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"category",
								"{{categoryId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Category (Admin Only)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/category/{{categoryId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"category",
								"{{categoryId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Peminjaman Management",
			"item": [
				{
					"name": "Get All Peminjaman (Admin Only)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/peminjaman",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"peminjaman"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Peminjaman by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/peminjaman/{{peminjamanId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"peminjaman",
								"{{peminjamanId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get My Peminjaman",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/peminjaman/user",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"peminjaman",
								"user"
							]
						}
					},
					"response": []
				},
				{
					"name": "Pinjam Buku",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"bukuId\": \"{{bukuId}}\",\n    \"tanggalPeminjaman\": \"2024-01-15T10:00:00\",\n    \"tanggalJatuhTempo\": \"2024-01-22T10:00:00\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/peminjaman/pinjam",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"peminjaman",
								"pinjam"
							]
						}
					},
					"response": []
				},
				{
					"name": "Kembalikan Buku",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/peminjaman/{{peminjamanId}}/kembalikan",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"peminjaman",
								"{{peminjamanId}}",
								"kembalikan"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Peminjaman (Admin Only)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"bukuId\": \"{{bukuId}}\",\n    \"tanggalPeminjaman\": \"2024-01-15T10:00:00\",\n    \"tanggalJatuhTempo\": \"2024-01-25T10:00:00\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/peminjaman/{{peminjamanId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"peminjaman",
								"{{peminjamanId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Peminjaman (Admin Only)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/peminjaman/{{peminjamanId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"peminjaman",
								"{{peminjamanId}}"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		},
		{
			"key": "bukuId",
			"value": "",
			"type": "string"
		}
	]
}
